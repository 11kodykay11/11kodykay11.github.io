(this["webpackJsonpslider-puzzle"]=this["webpackJsonpslider-puzzle"]||[]).push([[0],{54:function(e,t,n){e.exports=n(65)},59:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),c=n.n(o),i=(n(59),n(40)),l=n(85),s=n(18),u=n(16),m=n(19),d=r.a.createContext(),f={matrix:[],load:!1},g="LOAD_MATRIX",p=function(e,t){return t.type===g?Object(m.a)({},e,{matrix:t.matrix,load:!0}):e},b=function(e){var t=e.context,n=e.reducer,o=e.initialState,c=e.children,i=t,l=Object(a.useReducer)(n,o),s=Object(u.a)(l,2),m=s[0],d=s[1];return window.log("Provider...",m),r.a.createElement(i.Provider,{value:{state:m,dispatch:d}},c)},h=function(e){var t=e.children;return r.a.createElement(b,{context:d,reducer:p,initialState:f},t)},v=n(37),y=n(80),x=n(34),O=n(36),j=n(84),E=n(82),w=n(86),M=n(83),S=n(81),k=n(52),A=n(35),C=n(33),z=Object(k.a)({palette:{primary:{main:"#9796f0"},secondary:{main:"#fbc7d4"},type:"light"},colors:{blue:O.a,green:v.a,red:x.a,yellow:y.a,orange:A.a,indigo:C.a},typography:{useNextVariants:!0,fontFamily:"'Rajdhani', sans-serif",fontSize:14}}),N=n(20),G=n(14),U=n(87),I=n(11),P=n(28),R=n.n(P),L=Object(S.a)({typography:{position:"absolute",alignItems:"center",justifyContent:"center",display:"flex",margin:2,width:"100%",height:"100%"},transparent:{opacity:0},square:{maxWidth:56,maxHeight:56,transition:z.transitions.create(["border-color","box-shadow"]),"&:hover":{backgroundColor:z.colors.blue[300],borderColor:z.colors.indigo[500]},"&.Mui-focused":{boxShadow:"".concat(Object(I.b)(z.colors.blue[400],.25)," 0 0 0 3px"),borderColor:z.colors.blue[500],backgroundColor:z.colors.blue[200]}},noselect:{MozUserSelect:"none",WebkitUserSelect:"none",MoUserSelect:"none",UserSelect:"none"}}),B=function(e){var t=e.number,n=L();return Object(a.useMemo)((function(){return console.log("NUMBER: rendering number"),r.a.createElement(U.a,{key:t,id:t,className:R()(n.typography,n.square,Object(G.a)({},n.transparent,!t))},r.a.createElement(E.a,{variant:"h4",className:n.noselect},t))}),[])},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9;return Array(e*e).fill(0).map((function(t,n){var a=n%e,r=(n-a)/e;return{id:n,rc:[r+1,a+1],item:n!==e*e-1?n+1:0,xy:[60*a,60*r]}}))};function Y(e,t){for(var n,a=JSON.parse(JSON.stringify(t)),r=a.length,o=null;r;)n=Math.floor(Math.random()*r--),o=a[r],a[r]=a[n],a[n]=o;return a.map((function(t,n){var a=n%e,r=(n-a)/e;t.id=n,t.rc=[r+1,a+1],t.xy=[60*a,60*r]})),a}var J=Object(S.a)({card:{position:"absolute",width:540,height:540,top:0,bottom:0,right:0,left:0,margin:"auto"}}),q=function(e){var t=e.level,n=J(),o=t+2,c=o*o,i=Object(a.useState)({matrix:W(o),load:!1}),l=Object(u.a)(i,2),s=l[0],d=l[1];var f=Object(a.useCallback)((function(){var e=Y(o,s.matrix);console.log("GAMEPLAY: Shuffled",e),d({matrix:e.sort((function(e,t){return e.id-t.id})),load:!0})}),[]),g=Object(N.d)(s.matrix,(function(e){return e.item}),{native:!0,unique:!0,from:function(e){var t=e.xy;return{transform:"translate3d(".concat(t[0],"px, ").concat(t[1],"px, 0) scale(0)"),width:60,height:60}},enter:function(e){var t=e.xy;return{transform:"translate3d(".concat(t[0],", ").concat(t[1],", 0) scale(1)")}},update:function(e){var t=e.xy;return{transform:"translate3d(".concat(t[0],"px, ").concat(t[1],"px, 0) scale(1)")}},leave:{opacity:0},config:{mass:1,tension:200,friction:10},trail:s.load?100:o*o,onRest:function(e){var t=e.id;s.load||t!==c-1||(console.log("GAMEPLAY: shuffling grid"),f())}});return Object(a.useMemo)((function(){return console.log("GAMEPLAY: rendering gameplay",s.matrix),r.a.createElement(M.a,{key:"grid",id:"grid",container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",className:n.card,style:{width:60*o,height:60*o}},s.matrix.map((function(e,t){var n=g[t],a=n.item,o=n.props,c=n.key;return r.a.createElement(N.a.div,{key:c,id:c,style:Object(m.a)({position:"absolute"},o),onClick:function(){return function(e){var t=function(e,t){var n=e.findIndex((function(e){return e.item===t})),a=e.findIndex((function(e){return 0===e.item})),r=e[n];return e[n]=e[a],e[a]=r,e.map((function(e,t){var n=t%3,a=(t-n)/3;e.id=t,e.rc=[a+1,n+1],e.xy=[60*n,60*a]})),e}(s.matrix,parseInt(e));d(Object(m.a)({matrix:t},s)),console.log("GAMEPLAY: swaping",e,t)}(c)}},r.a.createElement(B,{number:a.item}))})))}),[s.matrix])},D=n(67),F=Object(D.a)({card1:{position:"relative",width:200,top:120,margin:"auto",padding:10},typo:{margin:10,textAlign:"center",color:z.colors.orange[400]},slider:{color:z.colors.orange[400]},card:{position:"absolute",margin:"auto",top:0,bottom:0,right:0,left:0},typography:{position:"absolute",alignItems:"center",justifyContent:"center",display:"flex",margin:2,width:"100%",height:"100%"},noselect:{MozUserSelect:"none",WebkitUserSelect:"none",MoUserSelect:"none",UserSelect:"none"}}),H=function(e){var t=e.levelRef,n=F(),o=Object(a.useState)(1),c=Object(u.a)(o,2),i=c[0],l=c[1],s=Object(a.useCallback)((function(e,n){l(n),t.current.size=n}),[]);return Object(a.useMemo)((function(){return console.log("GAME: rendering card 1"),r.a.createElement("div",{className:n.card1},r.a.createElement(E.a,{variant:"h4",className:n.typo},"Level ".concat(i)),r.a.createElement(w.a,{className:n.slider,step:1,marks:!0,min:1,max:10,value:i,onChange:s}))}),[n,s,i])},T=function(e){var t=e.onPlayClick,n=F(),o=Object(a.useState)(!1),c=Object(u.a)(o,2),i=c[0],l=c[1],s=Object(N.c)({config:N.b.stiff,from:{width:0,height:0,backgroundColor:z.colors.orange[400],opacity:1},to:{width:i?500:200,height:i?500:80,opacity:i?0:1},onRest:function(){return i&&t()}});return Object(a.useMemo)((function(){return console.log("GAME: rendering play button"),r.a.createElement(N.a.div,{className:n.card,style:Object(m.a)({},s),onClick:function(){return l(!0)}},r.a.createElement(E.a,{variant:"h4",className:R()(n.typography,n.noselect)},'"PLAY !!"'))}),[])},V=[{path:"/",component:function(){var e=Object(a.useRef)({size:1}),t=Object(a.useState)(!1),n=Object(u.a)(t,2),o=n[0],c=n[1];return Object(a.useMemo)((function(){return console.log("GAME: rendering main component"),r.a.createElement(j.a,null,!o&&r.a.createElement(H,{levelRef:e}),!o&&r.a.createElement(T,{onPlayClick:function(){return c(!0)}}),o&&r.a.createElement(q,{level:e.current.size}))}),[o])},exact:!0}];window.log=function(e,t){!function(e,t){if(!X)return;console.log("...".concat(e),t||"")}(e,t)};var X=sessionStorage.getItem("GODEBUG")||localStorage.getItem("GODEBUG");var $=Object(s.f)((function(){return r.a.createElement(h,null,r.a.createElement(s.c,null,V.map((function(e){var t=e.component;return r.a.createElement(s.a,{key:e.path,path:e.path,exact:!!e.exact,component:t})}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{basename:"/slider-puzzle"},r.a.createElement(l.a,{theme:z},r.a.createElement($,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.05dac5d1.chunk.js.map