(this["webpackJsonpslider-puzzle"]=this["webpackJsonpslider-puzzle"]||[]).push([[0],{54:function(e,t,n){e.exports=n(65)},59:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),i=(n(59),n(39)),l=n(83),s=n(18),u=n(12),m=n(21),d=r.a.createContext(),f={anyStateVariable:null},g="ACTION_VALUE",p=function(e,t){return t.type===g?Object(m.a)({},e,{anyStateVariable:t.parameter}):e},b=function(e){var t=e.context,n=e.reducer,o=e.initialState,c=e.children,i=t,l=Object(a.useReducer)(n,o),s=Object(u.a)(l,2),m=s[0],d=s[1];return window.log("Provider...",m),r.a.createElement(i.Provider,{value:{state:m,dispatch:d}},c)},h=function(e){var t=e.children;return r.a.createElement(b,{context:d,reducer:p,initialState:f},t)},v=n(37),y=n(79),O=n(34),j=n(36),E=n(82),x=n(81),w=n(85),S=n(15),k=n(80),M=n(86),A=n(11),C=n(84),z=n(51),G=n(35),N=n(33),U=Object(z.a)({palette:{primary:{main:"#9796f0"},secondary:{main:"#fbc7d4"},type:"light"},colors:{blue:j.a,green:v.a,red:O.a,yellow:y.a,orange:G.a,indigo:N.a},typography:{useNextVariants:!0,fontFamily:"'Rajdhani', sans-serif",fontSize:14}}),I=n(19),P=n(27),L=n.n(P),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9;return Array(e*e).fill(0).map((function(t,n){var a=n%e,r=(n-a)/e;return{id:n,rc:[r+1,a+1],item:n!==e*e-1?n+1:0,xy:[60*a,60*r]}}))};function W(e,t){for(var n,a=JSON.parse(JSON.stringify(t)),r=a.length,o=null;r;)n=Math.floor(Math.random()*r--),o=a[r],a[r]=a[n],a[n]=o;return a.map((function(t,n){var a=n%e,r=(n-a)/e;t.id=n,t.rc=[r+1,a+1],t.xy=[60*a,60*r]})),a}var Y=Object(C.a)({card:{position:"absolute",width:540,height:540,top:0,bottom:0,right:0,left:0,margin:"auto"},cell:{maxWidth:60,maxHeight:60,minWidth:60,minHeight:60},typography:{position:"absolute",alignItems:"center",justifyContent:"center",display:"flex",margin:2,width:"100%",height:"100%"},transparent:{opacity:0},square:{maxWidth:56,maxHeight:56,transition:U.transitions.create(["border-color","box-shadow"]),"&:hover":{backgroundColor:U.colors.blue[300],borderColor:U.colors.indigo[500]},"&.Mui-focused":{boxShadow:"".concat(Object(A.b)(U.colors.blue[400],.25)," 0 0 0 3px"),borderColor:U.colors.blue[500],backgroundColor:U.colors.blue[200]}},noselect:{MozUserSelect:"none",WebkitUserSelect:"none",MoUserSelect:"none",UserSelect:"none"}}),B=function(e){var t=e.level,n=Y(),o=t+2,c=o*o,i=Object(a.useState)(R(o)),l=Object(u.a)(i,2),s=l[0],d=l[1],f=Object(a.useState)(null),g=Object(u.a)(f,2),p=(g[0],g[1],Object(a.useState)(!1)),b=Object(u.a)(p,2),h=b[0],v=b[1],y=(Object(a.useCallback)((function(e){var t=function(e,t,n){var a=e.findIndex((function(e){return e.item===t})),r=e.findIndex((function(e){return 0===e.item})),o=(e[a],e[r],e[a]);return e[a]=e[r],e[r]=o,e.map((function(e,t){var n=t%3,a=(t-n)/3;e.id=t,e.rc=[a+1,n+1],e.xy=[60*n,60*a]})),e}(s,parseInt(e.currentTarget.id));d(t),console.log("GAMEPLAY: swaping",t)}),[s]),Object(a.useCallback)((function(){var e=W(o,s);d(e),console.log("GAMEPLAY: Shuffled",e)}),[])),O=Object(I.d)(s,(function(e){return e.item}),{native:!0,unique:!0,from:function(e){var t=e.xy;return{transform:"translate3d(".concat(t[0],"px, ").concat(t[1],"px, 0) scale(0)"),width:60,height:60}},enter:function(e){var t=e.xy;return{transform:"translate3d(".concat(t[0],", ").concat(t[1],", 0) scale(1)")}},update:function(e){var t=e.xy;return{transform:"translate3d(".concat(t[0],"px, ").concat(t[1],"px, 0) scale(1)")}},leave:{opacity:0},config:{mass:1,tension:200,friction:10},trail:h?100:o*o,onRest:function(e){var t=e.id;h||t!==c-1||(console.log("GAMEPLAY: shuffling grid"),v(!0),y())}});return Object(a.useMemo)((function(){return console.log("GAMEPLAY: rendering main comp",s),r.a.createElement(k.a,{key:"grid",id:"grid",container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",className:n.card,style:{width:60*o,height:60*o}},s.map((function(e,t){var n=O[t],a=n.item,o=n.props,c=n.key;return r.a.createElement(I.a.div,{key:c,id:c,style:Object(m.a)({position:"absolute"},o),onClick:function(){}},r.a.createElement(J,{num:a.item,id:t}))})))}),[])},J=function(e){var t=e.num,n=e.id,o=Y();return Object(a.useMemo)((function(){return console.log("GAMEPLAY: rendering num div"),r.a.createElement(M.a,{key:n,id:n,className:L()(o.typography,o.square,Object(S.a)({},o.transparent,!t))},r.a.createElement(x.a,{variant:"h4",className:o.noselect},t))}),[])},V=Object(C.a)({card1:{position:"relative",width:200,top:120,margin:"auto",padding:10},typo:{margin:10,textAlign:"center",color:U.colors.orange[400]},slider:{color:U.colors.orange[400]},card:{position:"absolute",margin:"auto",top:0,bottom:0,right:0,left:0},typography:{position:"absolute",alignItems:"center",justifyContent:"center",display:"flex",margin:2,width:"100%",height:"100%"},noselect:{MozUserSelect:"none",WebkitUserSelect:"none",MoUserSelect:"none",UserSelect:"none"}}),q=function(e){var t=e.levelRef,n=V(),o=Object(a.useState)(1),c=Object(u.a)(o,2),i=c[0],l=c[1],s=Object(a.useCallback)((function(e,n){l(n),t.current.size=n}),[]);return Object(a.useMemo)((function(){return console.log("GAME: rendering card 1"),r.a.createElement("div",{className:n.card1},r.a.createElement(x.a,{variant:"h4",className:n.typo},"Level ".concat(i)),r.a.createElement(w.a,{className:n.slider,step:1,marks:!0,min:1,max:10,value:i,onChange:s}))}),[n,s,i])},H=function(e){var t=e.onPlayClick,n=V(),o=Object(a.useState)(!1),c=Object(u.a)(o,2),i=c[0],l=c[1],s=Object(I.c)({config:I.b.stiff,from:{width:0,height:0,backgroundColor:U.colors.orange[400],opacity:1},to:{width:i?500:200,height:i?500:80,opacity:i?0:1},onRest:function(){return i&&t()}});return Object(a.useMemo)((function(){return console.log("GAME: rendering play button"),r.a.createElement(I.a.div,{className:n.card,style:Object(m.a)({},s),onClick:function(){return l(!0)}},r.a.createElement(x.a,{variant:"h4",className:L()(n.typography,n.noselect)},'"PLAY !!"'))}),[])},D=[{path:"/",component:function(){var e=Object(a.useRef)({size:1}),t=Object(a.useState)(!1),n=Object(u.a)(t,2),o=n[0],c=n[1];return Object(a.useMemo)((function(){return console.log("GAME: rendering main component"),r.a.createElement(E.a,null,!o&&r.a.createElement(q,{levelRef:e}),!o&&r.a.createElement(H,{onPlayClick:function(){return c(!0)}}),o&&r.a.createElement(B,{level:e.current.size}))}),[o])},exact:!0}];window.log=function(e,t){!function(e,t){if(!T)return;console.log("...".concat(e),t||"")}(e,t)};var T=sessionStorage.getItem("GODEBUG")||localStorage.getItem("GODEBUG");var F=Object(s.f)((function(){return r.a.createElement(h,null,r.a.createElement(s.c,null,D.map((function(e){var t=e.component;return r.a.createElement(s.a,{key:e.path,path:e.path,exact:!!e.exact,component:t})}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{basename:"/slider-puzzle"},r.a.createElement(l.a,{theme:U},r.a.createElement(F,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.52d83aa1.chunk.js.map